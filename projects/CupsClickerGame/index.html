<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Wasteland Clicker: Pip-Boy Edition</title>
    <style>
        /* --- –®—Ä–∏—Ñ—Ç—ã –∏ –ë–∞–∑–æ–≤—ã–π —Å—Ç–∏–ª—å --- */
        @import url('https://fonts.googleapis.com/css2?family=VT323&display=swap');

        :root {
            --pip-green: #33ff00;
            --pip-dim: #1a8000;
            --pip-bg: #050505;
            --pip-scanline: rgba(18, 16, 16, 0);
            --scan-color: rgba(0, 255, 0, 0.1);
        }

        body {
            background-color: var(--pip-bg);
            color: var(--pip-green);
            font-family: 'VT323', monospace;
            margin: 0;
            padding: 0;
            height: 100vh;
            overflow: hidden;
            user-select: none;
            -webkit-user-select: none;
        }

        /* --- CRT –≠—Ñ—Ñ–µ–∫—Ç (–°–∫–∞–Ω–ª–∞–π–Ω) --- */
        .scanlines {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: linear-gradient(
                to bottom,
                rgba(255,255,255,0),
                rgba(255,255,255,0) 50%,
                rgba(0,0,0,0.2) 50%,
                rgba(0,0,0,0.2)
            );
            background-size: 100% 4px;
            pointer-events: none;
            z-index: 1000;
            box-shadow: inset 0 0 5rem rgba(0,0,0,0.7);
        }

        .screen-glow {
            animation: textShadow 1.6s infinite;
        }

        @keyframes textShadow {
            0% { text-shadow: 0.4389924193300864px 0 1px rgba(0,30,255,0.5), -0.4389924193300864px 0 1px rgba(255,0,80,0.3), 0 0 3px; }
            50% { text-shadow: 2.623px 0 1px rgba(0,30,255,0.5), -2.623px 0 1px rgba(255,0,80,0.3), 0 0 3px; }
            100% { text-shadow: 0.4389924193300864px 0 1px rgba(0,30,255,0.5), -0.4389924193300864px 0 1px rgba(255,0,80,0.3), 0 0 3px; }
        }

        /* --- Layout --- */
        #game-container {
            display: flex;
            height: 100%;
            width: 100%;
        }

        /* –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å (–ö–ª–∏–∫) */
        .section-left {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            border-right: 2px solid var(--pip-dim);
            padding: 20px;
            position: relative;
        }

        /* –°—Ä–µ–¥–Ω—è—è –ø–∞–Ω–µ–ª—å (–ò–Ω—Ñ–æ/–ê–ø–≥—Ä–µ–π–¥—ã) */
        .section-mid {
            flex: 1;
            border-right: 2px solid var(--pip-dim);
            display: flex;
            flex-direction: column;
            overflow-y: auto;
            padding: 10px;
        }

        /* –ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å (–ú–∞–≥–∞–∑–∏–Ω) */
        .section-right {
            flex: 1;
            overflow-y: auto;
            padding: 10px;
            background: rgba(0, 20, 0, 0.3);
        }

        /* --- –≠–ª–µ–º–µ–Ω—Ç—ã UI --- */
        h1, h2, h3 { margin: 5px 0; text-transform: uppercase; letter-spacing: 2px; }
        
        .caps-display {
            font-size: 3rem;
            text-align: center;
            margin-bottom: 10px;
        }
        
        .cps-display {
            font-size: 1.2rem;
            opacity: 0.8;
            margin-bottom: 30px;
        }

        /* –ö–Ω–æ–ø–∫–∞-–ö—Ä—ã—à–∫–∞ */
        #big-cap {
            width: 200px;
            height: 200px;
            background: radial-gradient(circle, #a00000 30%, #500000 90%);
            border: 5px solid #d4d4d4;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: white;
            cursor: pointer;
            box-shadow: 0 0 20px var(--pip-green);
            transition: transform 0.1s;
            position: relative;
            text-shadow: 2px 2px 0px black;
        }
        #big-cap:active { transform: scale(0.95); }
        #big-cap::before {
            content: "NUKA";
            font-family: sans-serif;
            font-weight: bold;
        }

        /* –ú–∞–≥–∞–∑–∏–Ω */
        .store-item {
            border: 1px solid var(--pip-green);
            margin-bottom: 8px;
            padding: 10px;
            cursor: pointer;
            background: rgba(0,0,0,0.5);
            transition: background 0.2s;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .store-item:hover { background: var(--pip-dim); color: black; }
        .store-item.disabled { opacity: 0.5; cursor: not-allowed; filter: grayscale(1); }
        .item-info { display: flex; flex-direction: column; }
        .item-name { font-weight: bold; font-size: 1.2rem; }
        .item-cost { font-size: 0.9rem; }
        .item-count { font-size: 2rem; font-weight: bold; }

        /* –ê–ø–≥—Ä–µ–π–¥—ã */
        #upgrades-container {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            margin-bottom: 20px;
            min-height: 50px;
            border-bottom: 1px dashed var(--pip-green);
            padding-bottom: 10px;
        }
        .upgrade-icon {
            width: 50px;
            height: 50px;
            border: 1px solid var(--pip-green);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 24px;
        }
        .upgrade-icon:hover { background: var(--pip-green); color: black; }
        
        /* –ë–µ–≥—É—â–∞—è —Å—Ç—Ä–æ–∫–∞ */
        #news-ticker {
            border-top: 2px solid var(--pip-green);
            padding: 5px;
            white-space: nowrap;
            overflow: hidden;
            font-size: 1.1rem;
            background: #001100;
        }

        /* –í—Å–ø–ª—ã–≤–∞—é—â–∏–µ —á–∞—Å—Ç–∏—Ü—ã */
        .floating-text {
            position: absolute;
            color: white;
            font-weight: bold;
            pointer-events: none;
            animation: floatUp 1s ease-out forwards;
            text-shadow: 1px 1px 0 #000;
        }
        @keyframes floatUp {
            0% { transform: translateY(0); opacity: 1; }
            100% { transform: translateY(-50px); opacity: 0; }
        }

        /* –ê–¥–∞–ø—Ç–∏–≤ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö */
        @media (max-width: 800px) {
            body { overflow: auto; }
            #game-container { flex-direction: column; }
            .section-left, .section-mid, .section-right {
                flex: none;
                width: 100%;
                border-right: none;
                border-bottom: 2px solid var(--pip-dim);
                box-sizing: border-box;
            }
            .section-left { padding-top: 40px; }
            #big-cap { width: 150px; height: 150px; }
        }

        /* –ö–Ω–æ–ø–∫–∏ –º–µ–Ω—é */
        .menu-btn {
            background: transparent;
            border: 1px solid var(--pip-green);
            color: var(--pip-green);
            padding: 5px 10px;
            margin-top: 10px;
            cursor: pointer;
            font-family: inherit;
        }
        .menu-btn:hover { background: var(--pip-green); color: black; }
    </style>
</head>
<body>

<div class="scanlines"></div>

<div id="game-container" class="screen-glow">
    <!-- –õ–ï–í–ê–Ø –ö–û–õ–û–ù–ö–ê: –û—Å–Ω–æ–≤–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ -->
    <div class="section-left">
        <div id="news-ticker">/// ROBCO INDUSTRIES TERMINAL LINK ONLINE ///</div>
        <div class="caps-display"><span id="caps">0</span> CAPS</div>
        <div class="cps-display">per second: <span id="cps">0.0</span></div>
        
        <div id="big-cap"></div>
        
        <div style="margin-top: 20px; text-align: center;">
            <button class="menu-btn" onclick="saveGame()">SAVE</button>
            <button class="menu-btn" onclick="resetGame()">RESET</button>
        </div>
    </div>

    <!-- –°–†–ï–î–ù–Ø–Ø –ö–û–õ–û–ù–ö–ê: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –ê–ø–≥—Ä–µ–π–¥—ã -->
    <div class="section-mid">
        <h2>:: UPGRADES ::</h2>
        <div id="upgrades-container">
            <!-- –°—é–¥–∞ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –∞–ø–≥—Ä–µ–π–¥—ã -->
            <div style="opacity: 0.5; font-size: 0.8rem;">[NO UPGRADES AVAILABLE]</div>
        </div>

        <h2>:: DATA ::</h2>
        <div id="stats-log">
            <p>> Vault Dweller Status: ALIVE</p>
            <p>> Time Wasted: <span id="time-played">0</span> sec</p>
            <p>> Total Clicks: <span id="total-clicks">0</span></p>
        </div>
    </div>

    <!-- –ü–†–ê–í–ê–Ø –ö–û–õ–û–ù–ö–ê: –ú–∞–≥–∞–∑–∏–Ω -->
    <div class="section-right">
        <h2 style="text-align: center; border-bottom: 1px solid var(--pip-green); padding-bottom:5px;">:: SUPPLY STORE ::</h2>
        <div id="store-container">
            <!-- –ó–¥–∞–Ω–∏—è –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è JS -->
        </div>
    </div>
</div>

<script>
/* --- –î–ê–ù–ù–´–ï –ò–ì–†–´ --- */

// –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∑–¥–∞–Ω–∏–π
const buildingsData = [
    { id: 'cursor', name: 'Auto-Clicker', cost: 15, baseCps: 0.1, icon: 'üëÜ' },
    { id: 'radroach', name: 'Tamed Radroach', cost: 100, baseCps: 1, icon: 'ü™≥' },
    { id: 'scavenger', name: 'Wasteland Scavenger', cost: 1100, baseCps: 8, icon: 'üéí' },
    { id: 'brahmin', name: 'Brahmin Caravan', cost: 12000, baseCps: 47, icon: 'üêÑ' },
    { id: 'turret', name: 'Laser Turret', cost: 130000, baseCps: 260, icon: 'üî´' },
    { id: 'vault', name: 'Vault 13', cost: 1400000, baseCps: 1400, icon: '‚öôÔ∏è' },
    { id: 'bos', name: 'B.O.S. Outpost', cost: 20000000, baseCps: 7800, icon: 'üõ°Ô∏è' }
];

// –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∞–ø–≥—Ä–µ–π–¥–æ–≤
const upgradesData = [
    { id: 'u_cursor_1', name: 'Reinforced Mouse', desc: 'Auto-Clickers are twice as efficient.', cost: 500, trigger: (g) => g.buildings['cursor'] >= 10, effect: (g) => multBuild(g, 'cursor', 2), icon: 'üñ±Ô∏è' },
    { id: 'u_roach_1', name: 'Radioactive Food', desc: 'Radroaches yield 2x Caps.', cost: 1000, trigger: (g) => g.buildings['radroach'] >= 10, effect: (g) => multBuild(g, 'radroach', 2), icon: '‚ò¢Ô∏è' },
    { id: 'u_scav_1', name: 'Metal Detector', desc: 'Scavengers are twice as efficient.', cost: 11000, trigger: (g) => g.buildings['scavenger'] >= 10, effect: (g) => multBuild(g, 'scavenger', 2), icon: 'üî¶' },
    { id: 'u_global_1', name: 'Nuka-Cola Quantum', desc: 'All production +10%', cost: 50000, trigger: (g) => g.capsTotal >= 10000, effect: (g) => g.globalMult *= 1.1, icon: 'ü•§' }
];

// –ù–æ–≤–æ—Å—Ç–∏
const newsTicker = [
    "War... War never changes.",
    "Radroach infestation reported in Sector 7.",
    "Someone stole your sweetroll.",
    "Brotherhood of Steel demands your technology.",
    "GARY? GARY!",
    "Super Mutants spotted near the water chip.",
    "Mysterious Stranger appeared and vanished.",
    "Price of Stimpaks skyrockets."
];

/* --- –õ–û–ì–ò–ö–ê –ò–ì–†–´ --- */

let game = {
    caps: 0,
    capsTotal: 0,
    clicks: 0,
    startTime: Date.now(),
    buildings: {}, // { cursor: 10, radroach: 2 ... }
    upgrades: [],  // ['u_cursor_1']
    globalMult: 1,
    buildingMults: {} // { cursor: 1, radroach: 2 ... }
};

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
function init() {
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—É—Å—Ç—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
    buildingsData.forEach(b => {
        game.buildings[b.id] = 0;
        game.buildingMults[b.id] = 1;
    });

    loadGame();
    renderStore();
    requestAnimationFrame(gameLoop);
    setInterval(saveGame, 30000); // –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
    setInterval(updateTicker, 10000); // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–µ–π
    updateTicker();
}

// –ì–ª–∞–≤–Ω—ã–π —Ü–∏–∫–ª (requestAnimationFrame –¥–ª—è UI, setInterval –¥–ª—è —Ä–µ—Å—É—Ä—Å–æ–≤)
let lastTime = Date.now();
let accumulator = 0;

function gameLoop() {
    let now = Date.now();
    let dt = (now - lastTime) / 1000;
    lastTime = now;

    // –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ –ø–∞—Å—Å–∏–≤–Ω–æ–≥–æ –¥–æ—Ö–æ–¥–∞
    let cps = calculateCPS();
    if (cps > 0) {
        let earned = cps * dt;
        game.caps += earned;
        game.capsTotal += earned;
    }

    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è –∞–ø–≥—Ä–µ–π–¥–æ–≤
    checkUpgrades();

    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI
    updateUI(cps);
    
    requestAnimationFrame(gameLoop);
}

// –†–∞—Å—á–µ—Ç CPS (Caps Per Second)
function calculateCPS() {
    let cps = 0;
    buildingsData.forEach(b => {
        let count = game.buildings[b.id] || 0;
        let mult = game.buildingMults[b.id] || 1;
        cps += count * b.baseCps * mult;
    });
    return cps * game.globalMult;
}

// –ü–æ–º–æ—â–Ω–∏–∫ –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ –∞–ø–≥—Ä–µ–π–¥–æ–≤
function multBuild(g, id, multiplier) {
    g.buildingMults[id] *= multiplier;
}

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–ø–≥—Ä–µ–π–¥–æ–≤
function checkUpgrades() {
    const container = document.getElementById('upgrades-container');
    // –û—á–∏—Å—Ç–∫–∞ –µ—Å–ª–∏ —Ç–∞–º —Ç–æ–ª—å–∫–æ –∑–∞–≥–ª—É—à–∫–∞
    if(container.children.length > 0 && container.children[0].innerText.includes("NO UPGRADES")) {
        // –Ω–µ –æ—á–∏—â–∞–µ–º —Ç—É—Ç, –¥–µ–ª–∞–µ–º –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∏–∂–µ
    }

    upgradesData.forEach(u => {
        // –ï—Å–ª–∏ –∞–ø–≥—Ä–µ–π–¥ –µ—â–µ –Ω–µ –∫—É–ø–ª–µ–Ω –ò —É—Å–ª–æ–≤–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ
        if (!game.upgrades.includes(u.id) && u.trigger(game)) {
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –æ—Ç—Ä–∏—Å–æ–≤–∞–Ω –ª–∏ –æ–Ω —É–∂–µ (—á—Ç–æ–±—ã –Ω–µ –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å)
            if (!document.getElementById(`upg-${u.id}`)) {
                if(container.innerText.includes("NO UPGRADES")) container.innerHTML = '';
                
                let el = document.createElement('div');
                el.id = `upg-${u.id}`;
                el.className = 'upgrade-icon';
                el.innerText = u.icon;
                el.title = `${u.name}\n${u.desc}\nCost: ${formatNumber(u.cost)}`;
                el.onclick = () => buyUpgrade(u);
                container.appendChild(el);
            }
        }
    });
}

// –ü–æ–∫—É–ø–∫–∞ –∞–ø–≥—Ä–µ–π–¥–∞
function buyUpgrade(u) {
    if (game.caps >= u.cost) {
        game.caps -= u.cost;
        game.upgrades.push(u.id);
        u.effect(game); // –ü—Ä–∏–º–µ–Ω—è–µ–º —ç—Ñ—Ñ–µ–∫—Ç
        document.getElementById(`upg-${u.id}`).remove(); // –£–¥–∞–ª—è–µ–º –∏–∫–æ–Ω–∫—É
        
        // –ü–µ—Ä–µ—Å—á–µ—Ç CPS –º–≥–Ω–æ–≤–µ–Ω–Ω–æ
        updateUI(calculateCPS());
    }
}

// –ö–ª–∏–∫ –ø–æ –±–æ–ª—å—à–æ–π –∫—Ä—ã—à–∫–µ
document.getElementById('big-cap').addEventListener('click', (e) => {
    game.clicks++;
    
    // –°–∏–ª–∞ –∫–ª–∏–∫–∞ (–±–∞–∑–∞ 1 + —á–∞—Å—Ç—å –æ—Ç CPS –¥–ª—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–∏)
    let clickPower = 1 + (calculateCPS() * 0.05); // 5% –æ—Ç CPS
    if (clickPower < 1) clickPower = 1;
    
    game.caps += clickPower;
    game.capsTotal += clickPower;

    // –í–∏–∑—É–∞–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç
    spawnFloatingText(e.clientX, e.clientY, `+${formatNumber(clickPower)}`);
});

// –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞–≤–∞—é—â–µ–≥–æ —Ç–µ–∫—Å—Ç–∞
function spawnFloatingText(x, y, text) {
    let el = document.createElement('div');
    el.className = 'floating-text';
    el.innerText = text;
    // –°–ª—É—á–∞–π–Ω—ã–π —Ä–∞–∑–±—Ä–æ—Å
    let offsetX = (Math.random() - 0.5) * 40;
    el.style.left = (x + offsetX) + 'px';
    el.style.top = (y - 20) + 'px';
    document.body.appendChild(el);
    setTimeout(() => el.remove(), 1000);
}

// –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –º–∞–≥–∞–∑–∏–Ω–∞
function renderStore() {
    const container = document.getElementById('store-container');
    container.innerHTML = '';

    buildingsData.forEach(b => {
        let el = document.createElement('div');
        el.className = 'store-item disabled';
        el.id = `store-${b.id}`;
        el.onclick = () => buyBuilding(b.id);
        
        el.innerHTML = `
            <div class="item-info">
                <span class="item-name">${b.icon} ${b.name}</span>
                <span class="item-cost" id="cost-${b.id}">Cost: ${formatNumber(getBuildingCost(b))}</span>
            </div>
            <span class="item-count" id="count-${b.id}">${game.buildings[b.id]}</span>
        `;
        container.appendChild(el);
    });
}

// –†–∞—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ (1.15^count)
function getBuildingCost(b) {
    let count = game.buildings[b.id];
    return Math.floor(b.cost * Math.pow(1.15, count));
}

// –ü–æ–∫—É–ø–∫–∞ –∑–¥–∞–Ω–∏—è
function buyBuilding(id) {
    let b = buildingsData.find(x => x.id === id);
    let cost = getBuildingCost(b);
    
    if (game.caps >= cost) {
        game.caps -= cost;
        game.buildings[id]++;
        
        // –û–±–Ω–æ–≤–∏—Ç—å –º–∞–≥–∞–∑–∏–Ω (—Ü–µ–Ω—É –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ)
        document.getElementById(`count-${id}`).innerText = game.buildings[id];
        document.getElementById(`cost-${id}`).innerText = "Cost: " + formatNumber(getBuildingCost(b));
    }
}

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI
function updateUI(cps) {
    document.getElementById('caps').innerText = formatNumber(game.caps);
    document.getElementById('cps').innerText = formatNumber(cps);
    document.title = `${formatNumber(game.caps)} Caps - Wasteland Clicker`;

    document.getElementById('time-played').innerText = Math.floor((Date.now() - game.startTime)/1000);
    document.getElementById('total-clicks').innerText = game.clicks;

    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∫–Ω–æ–ø–æ–∫ –º–∞–≥–∞–∑–∏–Ω–∞
    buildingsData.forEach(b => {
        let btn = document.getElementById(`store-${b.id}`);
        let cost = getBuildingCost(b);
        if (game.caps >= cost) {
            btn.classList.remove('disabled');
        } else {
            btn.classList.add('disabled');
        }
    });
}

// –ë–µ–≥—É—â–∞—è —Å—Ç—Ä–æ–∫–∞
function updateTicker() {
    const ticker = document.getElementById('news-ticker');
    const msg = newsTicker[Math.floor(Math.random() * newsTicker.length)];
    ticker.innerText = `/// NEWS: ${msg} ///`;
}

// –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∏—Å–µ–ª (1.2k, 1M –∏ —Ç.–¥.)
function formatNumber(num) {
    if (num < 1000) return Math.floor(num);
    if (num < 1000000) return (num / 1000).toFixed(1) + 'k';
    if (num < 1000000000) return (num / 1000000).toFixed(2) + 'M';
    return (num / 1000000000).toFixed(2) + 'B';
}

/* --- –°–û–•–†–ê–ù–ï–ù–ò–ï / –ó–ê–ì–†–£–ó–ö–ê --- */

function saveGame() {
    const saveString = JSON.stringify(game);
    localStorage.setItem('falloutClickerSave', saveString);
    spawnFloatingText(window.innerWidth/2, window.innerHeight/2, "GAME SAVED");
}

function loadGame() {
    const saveString = localStorage.getItem('falloutClickerSave');
    if (saveString) {
        const savedGame = JSON.parse(saveString);
        // –ú—è–≥–∫–æ–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ, —á—Ç–æ–±—ã –Ω–æ–≤—ã–µ –≤–µ—Ä—Å–∏–∏ –∏–≥—Ä—ã –Ω–µ –ª–æ–º–∞–ª–∏ —Å—Ç–∞—Ä—ã–µ —Å–µ–π–≤—ã
        game = { ...game, ...savedGame };
        
        // –ü–µ—Ä–µ—Å—á–µ—Ç –∞–ø–≥—Ä–µ–π–¥–æ–≤ (—Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ JSON)
        // –°–±—Ä–æ—Å–∏–º –º—É–ª—å—Ç–∏–ø–ª–∏–∫–∞—Ç–æ—Ä—ã –∏ –ø—Ä–∏–º–µ–Ω–∏–º –∫—É–ø–ª–µ–Ω–Ω—ã–µ –∞–ø–≥—Ä–µ–π–¥—ã –∑–∞–Ω–æ–≤–æ
        buildingsData.forEach(b => game.buildingMults[b.id] = 1);
        game.globalMult = 1;
        
        game.upgrades.forEach(upgId => {
            let uData = upgradesData.find(x => x.id === upgId);
            if (uData) uData.effect(game);
        });
    }
}

function resetGame() {
    if(confirm("Initiate protocol: ERASE? All progress will be lost.")) {
        localStorage.removeItem('falloutClickerSave');
        location.reload();
    }
}

// –°—Ç–∞—Ä—Ç
init();

</script>
</body>
</html>
